{"ast":null,"code":"import { useState, useRef, useEffect } from 'react';\nexport default function useTimeout(cb, timeoutDelayMs = 0) {\n  const {\n    0: isTimeoutActive,\n    1: setIsTimeoutActive\n  } = useState(false);\n  const savedRefCallback = useRef();\n  useEffect(() => {\n    savedRefCallback.current = cb;\n  }, [cb]);\n\n  function callback() {\n    savedRefCallback.current && savedRefCallback.current();\n    clear();\n  }\n\n  function clear() {\n    setIsTimeoutActive(false);\n  }\n\n  function start() {\n    setIsTimeoutActive(true);\n  }\n\n  useEffect(() => {\n    if (isTimeoutActive) {\n      const timeout = window.setTimeout(callback, timeoutDelayMs);\n      return () => {\n        window.clearTimeout(timeout);\n      };\n    }\n  }, [isTimeoutActive, callback, timeoutDelayMs]);\n  return {\n    clear,\n    start,\n    stop: clear,\n    isActive: isTimeoutActive\n  };\n}","map":{"version":3,"sources":["C:/Users/Owner/Desktop/deadline/coming/common/hooks/useTimeout.js"],"names":["useState","useRef","useEffect","useTimeout","cb","timeoutDelayMs","isTimeoutActive","setIsTimeoutActive","savedRefCallback","current","callback","clear","start","timeout","window","setTimeout","clearTimeout","stop","isActive"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,MAAnB,EAA2BC,SAA3B,QAA4C,OAA5C;AAEA,eAAe,SAASC,UAAT,CAAoBC,EAApB,EAAwBC,cAAc,GAAG,CAAzC,EAA4C;AACzD,QAAM;AAAA,OAACC,eAAD;AAAA,OAAkBC;AAAlB,MAAwCP,QAAQ,CAAC,KAAD,CAAtD;AACA,QAAMQ,gBAAgB,GAAGP,MAAM,EAA/B;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACdM,IAAAA,gBAAgB,CAACC,OAAjB,GAA2BL,EAA3B;AACD,GAFQ,EAEN,CAACA,EAAD,CAFM,CAAT;;AAIA,WAASM,QAAT,GAAoB;AAClBF,IAAAA,gBAAgB,CAACC,OAAjB,IAA4BD,gBAAgB,CAACC,OAAjB,EAA5B;AACAE,IAAAA,KAAK;AACN;;AAED,WAASA,KAAT,GAAiB;AACfJ,IAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACD;;AACD,WAASK,KAAT,GAAiB;AACfL,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACD;;AAEDL,EAAAA,SAAS,CAAC,MAAM;AACd,QAAII,eAAJ,EAAqB;AACnB,YAAMO,OAAO,GAAGC,MAAM,CAACC,UAAP,CAAkBL,QAAlB,EAA4BL,cAA5B,CAAhB;AACA,aAAO,MAAM;AACXS,QAAAA,MAAM,CAACE,YAAP,CAAoBH,OAApB;AACD,OAFD;AAGD;AACF,GAPQ,EAON,CAACP,eAAD,EAAkBI,QAAlB,EAA4BL,cAA5B,CAPM,CAAT;AAQA,SAAO;AACLM,IAAAA,KADK;AAELC,IAAAA,KAFK;AAGLK,IAAAA,IAAI,EAAEN,KAHD;AAILO,IAAAA,QAAQ,EAAEZ;AAJL,GAAP;AAMD","sourcesContent":["import { useState, useRef, useEffect } from 'react';\r\n\r\nexport default function useTimeout(cb, timeoutDelayMs = 0) {\r\n  const [isTimeoutActive, setIsTimeoutActive] = useState(false);\r\n  const savedRefCallback = useRef();\r\n\r\n  useEffect(() => {\r\n    savedRefCallback.current = cb;\r\n  }, [cb]);\r\n\r\n  function callback() {\r\n    savedRefCallback.current && savedRefCallback.current();\r\n    clear();\r\n  }\r\n\r\n  function clear() {\r\n    setIsTimeoutActive(false);\r\n  }\r\n  function start() {\r\n    setIsTimeoutActive(true);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (isTimeoutActive) {\r\n      const timeout = window.setTimeout(callback, timeoutDelayMs);\r\n      return () => {\r\n        window.clearTimeout(timeout);\r\n      };\r\n    }\r\n  }, [isTimeoutActive, callback, timeoutDelayMs]);\r\n  return {\r\n    clear,\r\n    start,\r\n    stop: clear,\r\n    isActive: isTimeoutActive,\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}